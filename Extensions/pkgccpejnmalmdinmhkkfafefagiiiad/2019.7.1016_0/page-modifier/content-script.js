let PageGrayTool=function(){let t,e="4",n='\n\t<svg xmlns="http://www.w3.org/2000/svg" version="1.1">\n\t\t<defs>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_off">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="table" tableValues="0 1"/>\n\t\t\t\t\t<feFuncG type="table" tableValues="0 1"/>\n\t\t\t\t\t<feFuncB type="table" tableValues="0 1"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_highlight">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" exponent="3.0"/>\n\t\t\t\t\t<feFuncG type="gamma" exponent="3.0"/>\n\t\t\t\t\t<feFuncB type="gamma" exponent="3.0"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_highlight_back">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" exponent="0.33"/>\n\t\t\t\t\t<feFuncG type="gamma" exponent="0.33"/>\n\t\t\t\t\t<feFuncB type="gamma" exponent="0.33"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_grayscale">\n\t\t\t\t<feColorMatrix type="matrix" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"/>\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" exponent="3"/>\n\t\t\t\t\t<feFuncG type="gamma" exponent="3"/>\n\t\t\t\t\t<feFuncB type="gamma" exponent="3"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_grayscale_back">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" exponent="0.33"/>\n\t\t\t\t\t<feFuncG type="gamma" exponent="0.33"/>\n\t\t\t\t\t<feFuncB type="gamma" exponent="0.33"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_invert">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncG type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncB type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_invert_back">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="table" tableValues="1 0"/>\n\t\t\t\t\t<feFuncG type="table" tableValues="1 0"/>\n\t\t\t\t\t<feFuncB type="table" tableValues="1 0"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" exponent="1.7"/>\n\t\t\t\t\t<feFuncG type="gamma" exponent="1.7"/>\n\t\t\t\t\t<feFuncB type="gamma" exponent="1.7"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_invert_grayscale">\n\t\t\t\t<feColorMatrix type="matrix" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"/>\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncG type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncB type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_yellow_on_black">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncG type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncB type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t\t<feColorMatrix type="matrix" values="0.3 0.5 0.2 0 0 0.3 0.5 0.2 0 0 0 0 0 0 0 0 0 0 1 0"/>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_page_modifier_yellow_on_black_back">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="table" tableValues="1 0"/>\n\t\t\t\t\t<feFuncG type="table" tableValues="1 0"/>\n\t\t\t\t\t<feFuncB type="table" tableValues="1 0"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" exponent="0.33"/>\n\t\t\t\t\t<feFuncG type="gamma" exponent="0.33"/>\n\t\t\t\t\t<feFuncB type="gamma" exponent="0.33"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t</defs>\n\t</svg>',i='\n\thtml[hc="a0"] {\n\t    -webkit-filter: url("#_fh_page_modifier_off");\n\t}\n\thtml[hcx="0"] img[src*="jpg"], \n\thtml[hcx="0"] img[src*="jpeg"], \n\thtml[hcx="0"] svg image, \n\thtml[hcx="0"] img.rg_i, \n\thtml[hcx="0"] embed, \n\thtml[hcx="0"] object, \n\thtml[hcx="0"] video {\n\t    -webkit-filter: url("#_fh_page_modifier_off");\n\t}\n\thtml[hc="a1"] {\n\t    -webkit-filter: url("#_fh_page_modifier_highlight");\n\t}\n\thtml[hcx="1"] img[src*="jpg"], \n\thtml[hcx="1"] img[src*="jpeg"], \n\thtml[hcx="1"] img.rg_i, \n\thtml[hcx="1"] svg image, \n\thtml[hcx="1"] embed, \n\thtml[hcx="1"] object, \n\thtml[hcx="1"] video {\n\t    -webkit-filter: url("#_fh_page_modifier_highlight_back");\n\t}\n\thtml[hc="a2"] {\n\t    -webkit-filter: url("#_fh_page_modifier_grayscale");\n\t}\n\thtml[hcx="2"] img[src*="jpg"], \n\thtml[hcx="2"] img[src*="jpeg"], \n\thtml[hcx="2"] img.rg_i, \n\thtml[hcx="2"] svg image, \n\thtml[hcx="2"] embed, \n\thtml[hcx="2"] object, \n\thtml[hcx="2"] video {\n\t    -webkit-filter: url("#_fh_page_modifier_grayscale_back");\n\t}\n\thtml[hc="a3"] {\n\t    -webkit-filter: url("#_fh_page_modifier_invert");\n\t}\n\thtml[hcx="3"] img[src*="jpg"], \n\thtml[hcx="3"] img[src*="jpeg"], \n\thtml[hcx="3"] img.rg_i, \n\thtml[hcx="3"] svg image, \n\thtml[hcx="3"] embed, \n\thtml[hcx="3"] object, \n\thtml[hcx="3"] video {\n\t    -webkit-filter: url("#_fh_page_modifier_invert_back");\n\t}\n\thtml[hc="a4"] {\n\t    -webkit-filter: url("#_fh_page_modifier_invert_grayscale");\n\t}\n\thtml[hcx="4"] img[src*="jpg"], \n\thtml[hcx="4"] img[src*="jpeg"], \n\thtml[hcx="4"] img.rg_i, \n\thtml[hcx="4"] svg image, \n\thtml[hcx="4"] embed, \n\thtml[hcx="4"] object, \n\thtml[hcx="4"] video {\n\t    -webkit-filter: url("#_fh_page_modifier_invert_back");\n\t}\n\thtml[hc="a5"] {\n\t    -webkit-filter: url("#_fh_page_modifier_yellow_on_black");\n\t}\n\thtml[hcx="5"] img[src*="jpg"], \n\thtml[hcx="5"] img[src*="jpeg"], \n\thtml[hcx="5"] img.rg_i, \n\thtml[hcx="5"] svg image, \n\thtml[hcx="5"] embed, \n\thtml[hcx="5"] object, \n\thtml[hcx="5"] video {\n\t    -webkit-filter: url("#_fh_page_modifier_yellow_on_black_back");\n\t}';function a(){let t=document.getElementById("hc_style");if(!t){let e=window.location.href.replace(window.location.hash,""),n=i.replace(/#/g,e+"#");(t=document.createElement("style")).id="hc_style",t.setAttribute("type","text/css"),t.innerHTML=n,document.head.appendChild(t)}let e=document.getElementById("_fh_page_modifier_bkgnd");e||((e=document.createElement("div")).id="_fh_page_modifier_bkgnd",e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.style.right="0px",e.style.bottom="0px",e.style.zIndex=-1999999999,document.body.appendChild(e)),e.style.display="block",e.style.background=window.getComputedStyle(document.body).background;let a=(e.style.backgroundColor||"").replace(/\s\s*/g,""),m=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/i.exec(a);m&&"0"===m[4]&&(e.style.backgroundColor="#fff");let f=document.getElementById("_fh_page_modifier_svg_filters");f||((f=document.createElement("span")).id="_fh_page_modifier_svg_filters",f.setAttribute("hidden",""),f.innerHTML=n,document.body.appendChild(f))}return{init:function(n){t=window===window.top?"a":"b",e=n||e;let i=document.documentElement;i.setAttribute("hc",t+e),i.setAttribute("hcx",e),window===window.top&&(window.scrollBy(0,1),window.scrollBy(0,-1)),window.setTimeout(a,2e3),a(),new MutationObserver(function(t){a()}).observe(document.body,{attributes:!0,childList:!0,characterData:!0})}}}(),PageModify=function(t){if(t&&t.id&&t.mPattern&&!t.mDisabled){let e=t.mPattern.match(/\/(.*)\/(.*)?/);if(new RegExp(e[1],e[2]||"").test(location.href)){let e=document.createElement("script");e.type="text/javascript",e.textContent=t.mScript,document.body.appendChild(e),t.mFilter&&PageGrayTool.init(t.mFilter),parseInt(t.mRefresh)&&setTimeout(()=>{location.reload(!0)},1e3*parseInt(t.mRefresh))}}},ModifyCurrentPage=function(){chrome.runtime.sendMessage({type:"get_page_modifier_config",params:{url:location.href}},function(t){t&&PageModify(t)})};ModifyCurrentPage();